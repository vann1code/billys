<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template.xhtml">

    <f:metadata>
        <f:viewParam name="id" value="#{pacienteBean.paciente.id}" />
        <f:viewAction action="#{pacienteBean.carregarCadastro}" />
    </f:metadata>

    <ui:define name="body">
        <h:form>
            <p:card style="max-width: 800px; margin: 0 auto;">
                <f:facet name="title">
                    #{pacienteBean.paciente.id == null ? 'Novo Paciente' : 'Editar Paciente'}
                </f:facet>

                <div class="ui-fluid formgrid grid">

                    <p:fieldset legend="Dados Pessoais" style="width: 100%; margin-bottom: 20px;">
                        <div class="grid"> <div class="field col-12">
                            <p:outputLabel for="nome" value="Nome Completo" />
                            <p:inputText id="nome" value="#{pacienteBean.paciente.nome}" required="true"/>
                        </div>

                            <div class="field col-12 md:col-6">
                                <p:outputLabel for="cpf" value="CPF" />
                                <p:inputMask id="cpf" value="#{pacienteBean.paciente.cpf}" mask="999.999.999-99" required="true"/>
                            </div>

                            <div class="field col-12 md:col-6">
                                <p:outputLabel for="nasc" value="Data de Nascimento" />
                                <p:datePicker id="nasc" value="#{pacienteBean.paciente.dataNascimento}"
                                              pattern="dd/MM/yyyy" showIcon="true" monthNavigator="true" yearNavigator="true" yearRange="1900:2030" required="true"/>
                            </div>

                            <div class="field col-12 md:col-6">
                                <p:outputLabel for="tel" value="Telefone/Celular" />
                                <p:inputMask id="tel" value="#{pacienteBean.paciente.telefone}" mask="(99) 99999-9999"/>
                            </div>

                            <div class="field col-12 md:col-6">
                                <p:outputLabel for="email" value="E-mail" />
                                <p:inputText id="email" value="#{pacienteBean.paciente.email}" />
                            </div>
                        </div>
                    </p:fieldset>

                    <p:fieldset legend="Endereço" style="width: 100%;">
                        <div class="grid">

                            <div class="field col-12 md:col-4">
                                <p:outputLabel for="cep" value="CEP" />
                                <p:inputMask id="cep" value="#{pacienteBean.paciente.cep}" mask="99999-999"/>
                            </div>

                            <div class="field col-12 md:col-6">
                                <p:outputLabel for="cidade" value="Cidade" />
                                <p:inputText id="cidade" value="#{pacienteBean.paciente.cidade}" />
                            </div>

                            <div class="field col-12 md:col-2">
                                <p:outputLabel for="uf" value="UF" />
                                <p:inputText id="uf" value="#{pacienteBean.paciente.uf}" maxlength="2"/>
                            </div>

                            <div class="field col-12 md:col-10">
                                <p:outputLabel for="rua" value="Logradouro (Rua/Av)" />
                                <p:inputText id="rua" value="#{pacienteBean.paciente.logradouro}" />
                            </div>

                            <div class="field col-12 md:col-2">
                                <p:outputLabel for="num" value="Número" />
                                <p:inputText id="num" value="#{pacienteBean.paciente.numero}" />
                            </div>

                            <div class="field col-12">
                                <p:outputLabel for="bairro" value="Bairro" />
                                <p:inputText id="bairro" value="#{pacienteBean.paciente.bairro}" />
                            </div>
                        </div>
                    </p:fieldset>

                </div>

                <f:facet name="footer">
                    <p:commandButton value="Salvar" action="#{pacienteBean.salvar}"
                                     icon="pi pi-check" styleClass="ui-button-success"
                                     style="margin-right: 10px"/>

                    <p:button value="Cancelar" outcome="paciente"
                              icon="pi pi-times" styleClass="ui-button-secondary"/>
                </f:facet>
            </p:card>
        </h:form>
    </ui:define>

</ui:composition>