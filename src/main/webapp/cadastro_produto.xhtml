<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template.xhtml">

    <f:metadata>
        <f:viewParam name="id" value="#{produtoBean.produto.id}"/>
        <f:viewAction action="#{produtoBean.carregarCadastro}"/>
    </f:metadata>

    <ui:define name="body">

        <h:form>
            <p:card style="max-width: 800px; margin: 0 auto;">
                <f:facet name="title">
                    #{produtoBean.produto.id == null ? 'Novo Produto' : 'Editando Produto'}
                </f:facet>

                <div class="ui-fluid formgrid grid">

                    <div class="field col-12">
                        <p:outputLabel for="nome" value="Nome do Produto"/>
                        <p:inputText id="nome" value="#{produtoBean.produto.nome}" required="true"/>
                    </div>

                    <div class="field col-12 md:col-6">
                        <p:outputLabel for="preco" value="PreÃ§o (R$)"/>
                        <p:inputNumber id="preco" value="#{produtoBean.produto.preco}"
                                       symbol="R$ " symbolPosition="p"
                                       decimalSeparator="," thousandSeparator="."
                                       required="true"/>
                    </div>

                    <div class="field col-12 md:col-6">
                        <p:outputLabel for="estoque" value="Quantidade em Estoque"/>
                        <p:spinner id="estoque" value="#{produtoBean.produto.estoque}" min="0"
                                   buttons="horizontal-after"
                                   upIcon="pi pi-plus" downIcon="pi pi-minus"/>
                    </div>
                </div>

                <f:facet name="footer">
                    <p:commandButton value="Salvar" action="#{produtoBean.salvar}"
                                     icon="pi pi-check" styleClass="ui-button-success"
                                     style="margin-right: 10px"/>

                    <p:button value="Cancelar" outcome="produto"
                              icon="pi pi-times" styleClass="ui-button-secondary"/>
                </f:facet>
            </p:card>
        </h:form>

    </ui:define>

</ui:composition>